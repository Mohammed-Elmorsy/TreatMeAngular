
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<div id="doctorRegister">
    <div class="col-12 col-md-7 float-left" id="imgDiv">
        <!-- image -->
        <img src="assets/images/doctors/doctor-register.jpg" alt="loading">
    </div>
    <div class="col-12 col-md-5 float-right p-4" id="formDiv">
        <h4 class="text-center mb-4">{{"Register.JoinTMDoctors" | translate}}</h4>     
        <!-- form -->
        <form name="form" #form="ngForm" class="formRegister" (ngSubmit)="onSubmit()">
            <div class="form-row"> 
                <div class="form-group col-md-6">
                    <input type="text" class="form-control" placeholder="{{'Register.Fname' | translate}} *" name="fName"
                    #fName="ngModel"
                    [(ngModel)]="doctor.user.firstName" 
                    required 
                    maxlength="20"
                    minlength="3"
                    noStartOrDoubleSpaces
                    pattern="^(?:[a-zA-Z\s@,=%$#&_\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDCF\uFDF0-\uFDFF\uFE70-\uFEFF]|(?:\uD802[\uDE60-\uDE9F]|\uD83B[\uDE00-\uDEFF])){0,30}$" 
                    [ngClass]="{ 'is-invalid': fName.invalid && fName.dirty }"> 
                    <span *ngIf="fName.dirty && fName.errors?.required" class="invalid-feedback">
                       {{"Register.Validation.Required" | translate}}</span> 
                <!--cs validation -->
                    <div *ngIf="fName.invalid" class="invalid-feedback">
                        <span *ngIf="fName.errors?.minlength && fName.dirty">
                            {{"Register.Validation.MinLength3" | translate}}</span>
                        <span *ngIf="fName.errors?.startsWithSpace && fName.dirty">
                            {{"Register.Validation.SpaceStart" | translate}}</span>
                        <span *ngIf="fName.errors?.hasDoubleSpace && fName.dirty">
                            {{"Register.Validation.DoubleSpace" | translate}}</span>
                        <span *ngIf="fName.errors?.pattern&& fName.dirty">  
                            {{"Register.Validation.LettersOnly" | translate}}</span>
                    </div>
                </div> 
                <div class="form-group col-md-6">
                    <input type="text" class="form-control" placeholder="{{'Register.Lname' | translate}} *" name="lName"
                    #lName="ngModel"
                    [(ngModel)]="doctor.user.lastName"
                    required 
                    maxlength="20"
                    minlength="3"
                    noStartOrDoubleSpaces
                    pattern="^(?:[a-zA-Z\s@,=%$#&_\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDCF\uFDF0-\uFDFF\uFE70-\uFEFF]|(?:\uD802[\uDE60-\uDE9F]|\uD83B[\uDE00-\uDEFF])){0,30}$" 
                    [ngClass]="{ 'is-invalid': lName.invalid && lName.dirty }">
                    <span *ngIf="lName.dirty && lName.errors?.required" class="invalid-feedback">
                        {{"Register.Validation.Required" | translate}}</span>
                <!--cs validation -->
                    <div *ngIf="lName.invalid" class="invalid-feedback">
                        <span *ngIf="lName.errors?.minlength && lName.dirty">
                            {{"Register.Validation.MinLength3" | translate}}</span>
                        <span *ngIf="lName.errors?.startsWithSpace && lName.dirty">
                            {{"Register.Validation.SpaceStart" | translate}}</span>
                        <span *ngIf="lName.errors?.hasDoubleSpace && lName.dirty">
                            {{"Register.Validation.DoubleSpace" | translate}} </span>
                        <span *ngIf="lName.errors?.pattern&& lName.dirty">
                            {{"Register.Validation.LettersOnly" | translate}}</span> 
                    </div>
                </div>   
            </div> 
            <div class="form-group">
                <input type="text" class="form-control" placeholder="{{'Register.Username' | translate}} *" name="userName"
                #userName="ngModel"  
                [(ngModel)]="doctor.user.userName"   
                required
                maxlength="30"
                minlength="6"
                noWhiteSpaces
                pattern="^(?:[a-zA-Z0-9\s@,=%$#&_\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDCF\uFDF0-\uFDFF\uFE70-\uFEFF]|(?:\uD802[\uDE60-\uDE9F]|\uD83B[\uDE00-\uDEFF])){0,30}$" 
                [ngClass]="{ 'is-invalid': userName.invalid && userName.dirty }" /> 
                <span *ngIf="userName.dirty && userName.errors?.required" class="invalid-feedback">
                    {{"Register.Validation.Required" | translate}}</span>    
                <!--cs validation --> 
                <div *ngIf="userName.invalid" class="invalid-feedback">
                    <span  *ngIf="userName.errors?.minlength && userName.dirty">
                        {{"Register.Validation.MinLength6" | translate}}</span>
                    <span  *ngIf="userName.errors?.maxlength && userName.dirty">
                        </span>
                    <span *ngIf="userName.errors?.hasWhiteSpace && userName.dirty">
                        {{"Register.Validation.NoSpace" | translate}}</span>  
                    <span *ngIf="userName.errors?.pattern && userName.dirty">
                        {{"Register.Validation.LettersOnly" | translate}}</span>  

                </div> 
            </div>
            <div class="form-group">
                <input type="email" class="form-control" placeholder="{{'Register.Email' | translate}} *" name="email"
                #email="ngModel"
                [(ngModel)]="doctor.user.mail"   
                required
                pattern="^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$"
                [ngClass]="{ 'is-invalid': email.invalid && email.dirty }" />
                <span *ngIf="email.dirty && email.errors?.required" class="invalid-feedback">
                    {{"Register.Validation.Required" | translate}}</span>  
                <!--cs validation -->  
                <div *ngIf="email.invalid" class="invalid-feedback">
                    <span  *ngIf="email.errors?.pattern && email.dirty"><!-- still need work -->
                        {{"Register.Validation.Email" | translate}}</span>
                    
               </div> 
            </div>
            <div class="form-row"  ngModelGroup="passwordGroup"  #passwordGroup="ngModelGroup" [ngClass]="{ 'is-invalid': confirmPassword.invalid && confirmPassword.dirty }">
  
                <div class="form-group col-md-6">
                    <input type="password" class="form-control" placeholder="{{'Register.Password' | translate}} *" name="password"
                    #password="ngModel"
                    [(ngModel)]="doctor.user.password"   
                    required 
                    maxlength="30"
                    minlength="6"
                    noWhiteSpaces
                    [ngClass]="{ 'is-invalid': password.invalid && password.dirty }"
                    (input)="confirmPassword.control.updateValueAndValidity()">  
                    <span *ngIf="password.dirty && password.errors?.required" class="invalid-feedback">
                        {{"Register.Validation.Required" | translate}}</span> 
                <!--cs validation -->
                    <div *ngIf="password.invalid" class="invalid-feedback">
                        <span *ngIf="password.errors?.minlength && password.dirty">
                            {{"Register.Validation.MinLength3" | translate}}</span>
                        <span *ngIf="password.errors?.hasWhiteSpace && password.dirty">
                            {{"Register.Validation.NoSpace" | translate}}</span>
                    </div>
                </div>
                <div class="form-group col-md-6">
                    <input type="password" class="form-control" placeholder="{{'Register.ConfirmPassword' | translate}} *"
                    name="confirmPassword"
                    #confirmPassword="ngModel"
                    ngModel
                    required 
                    maxlength="30"
                    minlength="6"  
                    noWhiteSpaces
                    ConfirmEqualValidator="password"
                    [ngClass]="{ 'is-invalid': confirmPassword.invalid && confirmPassword.dirty }">
                    <span *ngIf="confirmPassword.dirty && confirmPassword.errors?.required" class="invalid-feedback">
                        {{"Register.Validation.Required" | translate}}</span> 
                    
                                    <!--cs validation -->
                    <div *ngIf="confirmPassword.invalid" class="invalid-feedback">
                        <span *ngIf="confirmPassword.errors?.notEqual && confirmPassword.dirty">
                            {{"Register.Validation.ConfirmPassword" | translate}}</span>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-2">
                    <label for="inputTitle">{{"Register.Title" | translate}}</label>
                    <select id="inputTitle" class="form-control" name="title" 
                    #title="ngModel"
                    [(ngModel)]="doctor.title"
                    [ngClass]="{ 'is-invalid': title.invalid && title.dirty }"
                    required >
                    <!-- still need work -->
                        <option selected disabled>{{"Register.Choose" | translate}}</option>
                        <option>{{"DoctorsList.P" | translate}}</option> 
                        <option>{{"DoctorsList.D" | translate}}</option>    
                    </select>

                </div>
                <div class="form-group col-md-6">
                    <label>{{"Register.TitleDetails" | translate}}</label><!-- still need work -->
                    <input type="text" class="form-control" name="titleDescription" 
                    #titleDescription = "ngModel" 
                    [(ngModel)] = "doctor.titleDescription"     
                    noStartOrDoubleSpaces
                    required
                    pattern="^(?:[a-zA-Z\s@,=%$#&_\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDCF\uFDF0-\uFDFF\uFE70-\uFEFF]|(?:\uD802[\uDE60-\uDE9F]|\uD83B[\uDE00-\uDEFF])){0,30}$" 
                    [ngClass]="{ 'is-invalid': titleDescription.invalid && titleDescription.dirty }"

                    >
                    <span *ngIf="titleDescription.dirty && titleDescription.errors?.required" class="invalid-feedback">
                        {{"Register.Validation.Required" | translate}}</span> 
                 <!--cs validation -->
                     <div *ngIf="titleDescription.invalid" class="invalid-feedback">
                         <span *ngIf="titleDescription.errors?.startsWithSpace && titleDescription.dirty">
                             {{"Register.Validation.SpaceStart" | translate}}</span>
                         <span *ngIf="titleDescription.errors?.hasDoubleSpace && titleDescription.dirty">
                             {{"Register.Validation.DoubleSpace" | translate}}</span>
                         <span *ngIf="titleDescription.errors?.pattern && titleDescription.dirty">  
                             {{"Register.Validation.LettersOnly" | translate}}</span>
                     </div>
                </div>  
                <div class="form-group col-md-4">
                    <label for="inputSpeciality">{{"Register.Speciality" | translate}}</label>  
                    <select id="inputSpeciality" class="form-control" name="speciality" [(ngModel)]="doctor.specialityId"
                    required #speciality="ngModel"> 
                        <option  [ngValue]="null" disabled>{{"Register.Choose" | translate}}</option>  
                        <option *ngFor='let speciality of specialities' value="{{speciality.id}}">{{ ("Home.Speciality." + speciality.name) | translate}}</option>
                    </select>
                    <span *ngIf="speciality.dirty && speciality.errors?.required" class="invalid-feedback">
                        {{"Register.Validation.Required" | translate}}</span>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-6">
                    <input type="text" class="form-control" placeholder="{{'Register.Address' | translate}}" name="address"
                    #address="ngModel"
                    [(ngModel)]="doctor.user.address"
                    noStartOrDoubleSpaces
                    >
                    <!-- cs validation -->
                    <div *ngIf="address.invalid" class="invalid-feedback">
                        <span *ngIf="address.errors?.startsWithSpace && address.dirty">
                            {{"Register.Validation.SpaceStart" | translate}}</span>
                        <span *ngIf="address.errors?.hasDoubleSpace && address.dirty">
                            {{"Register.Validation.DoubleSpace" | translate}}</span>
                    </div>

                </div>  
                <div class="form-group col-md-6">
                    <input type="number" class="form-control" placeholder="{{'Register.PhoneNumber' | translate}}" name="phone"
                    #phone="ngModel"
                    min="0"
                    max="9"
                    [(ngModel)]="doctor.user.phoneNumber"  
                    noWhiteSpaces
                    > 
                    <!-- cs validation -->
                    <div *ngIf="phone.invalid" class="invalid-feedback">
                        <span *ngIf="phone.errors?.hasWhiteSpace && phone.dirty">
                            {{"Register.Validation.NoSpace" | translate}}</span>
                    </div>   
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label>{{'Register.Gender' | translate}}</label>
                    <select class="form-control" name="gender" #gender="ngModel" [(ngModel)]="doctor.user.gender">
                        <option  [ngValue]="null" disabled>{{'Register.Choose' | translate}}</option> 
                        <option value=1 >{{'Register.Male' | translate}}</option>
                        <option value=2>{{'Register.Female' | translate}}</option>
                    </select>
                </div>
                <div class="form-group col-md-6">
                    <label>{{'Register.Age' | translate}}</label>
                    <input type="number" class="form-control" min="1" max="110" name="age" 
                    #age="ngModel"
                    [(ngModel)]="doctor.user.age">
                </div>
            </div>
            <div class="form-group"><!-- still need work -->
                <label for="exampleFormControlFile1"></label>
                
                <div id="hide" class="col-lg-8 col-xs-8">
                    <label class="hand-cursor">
                        <input type="file" id="file" name="CV"  name="file" (change)="handleFileInput($event.target.files)"  />
                        <span class="fa fa-3x fa-file"></span>
                     <span class="photo_text hidden-xs" style="color:black;">{{'Register.CV' | translate}}</span>
                      </label>
                 </div>


            </div>

            <div class="form-check"><!-- still need work -->
                <input type="checkbox" class="form-check-input" 
                name="terms" 
                #terms="ngModel"  
                ngModel
                required>
                <label class="form-check-label mr-3 mb-3">{{'Register.AcceptTerms' | translate}}</label>
                <span>
                    *</span> 
            </div>
            <div class="text-center">  
                
                <button type="submit" class="btn btn-success" [disabled]="form.invalid || form.submitted">{{'Register.JoinDoctors' | translate}}</button>
            </div>
        </form>
    </div>
</div>